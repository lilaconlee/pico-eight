pico-8 cartridge // http://www.pico-8.com
version 15
__lua__
scrn = {}
p1 = {}
jelly = {}

function _init()
	show_menu()
end

function show_menu()
	scrn.upd = update_menu
	scrn.drw = draw_menu
	cls()
end

function update_menu()
	if (btnp(4)) then run_game() end
end

function draw_menu()
	print ("press z to start",30,50,7)
end

function run_game()
	scrn.upd = update_game
	scrn.drw = draw_game
	cls()
	
	p1.x = 63
	p1.y = 102
	jelly.x = rnd(110) + 10
	jelly.y = rnd(63) + 10
	-- 
end

function update_game()
	-- update zorn position
	if (btnp(0)) then p1.x -= 1 end
	if (btnp(1)) then p1.x += 1 end
	if (btnp(2)) then p1.y -= 1 end
	if (btnp(3)) then p1.y += 1 end
end

function draw_game()
	map(0,0,0,0,16,8)
 map(0,0,0,64,16,8)
  
	spr(2,p1.x,p1.y)
	spr(1,jelly.x,jelly.y)
end

function show_game_over()
	scrn.upd = update_game_over
	scrn.drw = draw_game_over
end

function update_game_over()
	if (btnp(4)) then show_menu() end
end

function draw_game_over()
	print("game over!",30,50,7)
end

function _update()
	scrn.upd()
end

function _draw()
	scrn.drw()
end
__gfx__
0066600000eeee000000000045444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
065ff0000eeeeee06666665644444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
566ff000eeeeeeee656ffff644445444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6654444feeeeeeee66f1ff1f44444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
004440000e0000e056ffffff44444454000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0044400000e00e006522222044444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
004440000e0000e00022222044544444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0044400000e00e000022222044444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0303030303030303030303030303030303030303030303030303030303030303030303030303030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
